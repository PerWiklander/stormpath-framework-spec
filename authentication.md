# Authentication

The underlying SDKs provide Authenticators, which are used for authenticating
a user in various contexts.  A full list can be found here:

https://github.com/stormpath/stormpath-sdk-spec/blob/master/specifications/authenticators.md

Those authenticators have an interface which is *not* HTTP-specific, the
interfaces work with the necessary parameters for achieving authentication.

To provide extra convenience, we have defined Account Resolvers to help the application read the HTTP request and return authentication information to the application. In addition, the framework integrations MAY provide additional convenience methods to respond to the incoming request. 

**Account Resolvers**

The framework integration will provide the application with some means of resolving authentication information. This means:

* Reading the request headers for authentication information
* Resolving the access token or API key presented to a Stormpath account
* Return this information to the application, along with information about how the request was authenticated.

This information will allow the application to make authorization decisions for the request. 

**Unauthenticated Requests**

As a convenience, the framework integration MAY provide the application with a means to use the authentication information to return an appropriate response if the request is unauthenticated. 

If implemented, these convenience functions will render an error in the best content type as according to the Accept headers and produces configuration. 

If `application/json` is preferred: Render `401 Unauthorized` with a blank body.

If `text/html` is preferred: Redirect to `stormpath.web.login.uri`. Make sure to pass information to redirect the user back to the current page. 

## How Requests are Authenticated

There are multiple ways that clients can present their authentication credentials to the web framework: 

**Cookie Authentication**

The framework integration should have the ability to accept an OAuth access or refresh token in the cookies as detailed in the [cookie authentication](cookie-authentication.md) document.

**Bearer Authentication**

The framework integration should be able to read an OAuth access token presented in a Bearer Authentication scheme. For reference, access token may be generated by the `password` or `client_credentials` grant types. As an example, this is a HTTP header that looks like this:

```
Authorization: Bearer <OAuth2AccessToken>
```

**Basic Authentication**

The framework integration should be able to read API keys for an Account resource mapped to the application presented in Basic Authentication form. As an example, this is a HTTP header that looks like this:

```
Authorization: Basic <Base64(apiKeyId:apiKeySecret)>
```